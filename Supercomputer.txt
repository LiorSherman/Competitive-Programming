Clasical segment tree problem.
Time Complexity for K queries is : O(KlogN)